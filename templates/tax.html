<!-- templates/tax.html -->
{% extends "base.html" %}

{% block title %}Irish Tax Calculator{% endblock %}

{% block content %}
<div class="container">
    <h1>Irish Tax Calculator</h1>

    <form action="{{ url_for('tax') }}" method="POST" class="form-container">
        <label for="salary">Annual Salary (€):</label>
        <input type="number" id="salary" name="salary" required>

        <label for="marital">Marital Status:</label>
        <select id="marital" name="marital" required>
            <option value="">-- Select --</option>
            <option value="single">Single</option>
            <option value="married">Married</option>
        </select>

        <label for="children">Number of Children:</label>
        <input type="number" id="children" name="children" value="0" min="0" required>

        <label for="age_group">Age Group:</label>
        <select id="age_group" name="age_group" required>
            <option value="">-- Select --</option>
            <option value="under_65">Under 65</option>
            <option value="65_plus">65 and over</option>
        </select>

        <label for="tax_credits">Other Tax Credits (€):</label>
        <input type="number" id="tax_credits" name="tax_credits" value="0">

        <button type="submit" class="btn">Calculate Tax</button>
    </form>

    {% if result is not none %}
    <div class="result-box">
        <h3>Tax Calculation Result</h3>
        <p>Gross Annual Salary: €{{ salary }}</p>
        <p><strong>Total Tax Payable: €{{ result }}</strong></p>

        {% if breakdown %}
        <table class="breakdown-table">
            <thead>
                <tr>
                    <th>Tax Band</th>
                    <th>Amount (€)</th>
                </tr>
            </thead>
            <tbody>
                {% for band, amount in breakdown.items() %}
                <tr>
                    <td>{{ band }}</td>
                    <td>{{ amount }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
    {% endif %}

    <p><a href="{{ url_for('home') }}">← Back to Home</a></p>
</div>
{% endblock %}
